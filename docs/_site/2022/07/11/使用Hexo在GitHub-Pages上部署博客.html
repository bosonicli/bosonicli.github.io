<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>2022-07-10 - 使用Hexo部署GitHub-Pages | Your awesome title</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="2022-07-10 - 使用Hexo部署GitHub-Pages" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="本小白第一天尝鲜用 Hexo + GitHub Pages 部署个人博客 ，浪费了一天踩各种坑，记录一下经验教训。" />
<meta property="og:description" content="本小白第一天尝鲜用 Hexo + GitHub Pages 部署个人博客 ，浪费了一天踩各种坑，记录一下经验教训。" />
<link rel="canonical" href="http://localhost:4000/2022/07/11/%E4%BD%BF%E7%94%A8Hexo%E5%9C%A8GitHub-Pages%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2.html" />
<meta property="og:url" content="http://localhost:4000/2022/07/11/%E4%BD%BF%E7%94%A8Hexo%E5%9C%A8GitHub-Pages%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2.html" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-11T02:55:40+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="2022-07-10 - 使用Hexo部署GitHub-Pages" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-07-11T02:55:40+08:00","datePublished":"2022-07-11T02:55:40+08:00","description":"本小白第一天尝鲜用 Hexo + GitHub Pages 部署个人博客 ，浪费了一天踩各种坑，记录一下经验教训。","headline":"2022-07-10 - 使用Hexo部署GitHub-Pages","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2022/07/11/%E4%BD%BF%E7%94%A8Hexo%E5%9C%A8GitHub-Pages%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2.html"},"url":"http://localhost:4000/2022/07/11/%E4%BD%BF%E7%94%A8Hexo%E5%9C%A8GitHub-Pages%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=21c04cf9ec76cbaadeeaea1834b9f5d6e3f203c4">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">2022-07-10 - 使用Hexo部署GitHub-Pages</h1>
      <h2 class="project-tagline">Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</h2>
      
        <a href="https://github.com/bosonicli/bosonicli.github.io" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <p>本小白第一天尝鲜用 Hexo + GitHub Pages 部署个人博客 ，浪费了一天踩各种坑，记录一下经验教训。</p>

<p>首先，我想要做什么？为什么用 Hexo + GitHub Pages ？</p>

<p>我希望拥有</p>

<ol>
  <li>
    <p>一套便捷好用的 Markdown to HTML 静态网页渲染工具</p>
  </li>
  <li>
    <p>一个便捷好用的静态网页托管平台</p>
  </li>
  <li>
    <p>一个好用的源码托管平台</p>
  </li>
</ol>

<p>这样我可以用 Markdown 在本地记一些日常笔记，实时同步到源码托管平台，随时把笔记渲染成静态网页，随时推送到网页托管平台展示给外界看。如此，我的本地笔记本就变成一个开放博客，既方便多端编辑，方便随时展示，也方便迁移。</p>

<p>GitHub Pages 提供了一套网页托管服务，可以把仓库内的 HTML 静态网页自动推送到域名上。这样一个 GitHub 仓库就可以同时扮演 2/3 两个角色。Hexo 是一个好用的渲染工具，因此我选择了这两个的组合。</p>

<p>这个方案就是我踩坑一整天的原因：源码托管和网页托管是 <strong>两个不同的功能</strong> ，我想用同一个 GitHub 仓库来实现，不是不行，但搞不好就会导致混乱。相关工具/教程 (如 Hexo) 也并不默认两个功能用同一个仓库实现，使用时也要注意。</p>

<p>方便的做法是，将这个同时托管源码和静态网页的 GitHub 仓库，至少区分两个分支：</p>

<ol>
  <li>
    <p>master(不建议用其他分支名)</p>

    <p>博客源码分支(如 Markdown)，编辑区</p>

    <p>建议保持默认分支名字为 master ，以免影响与 VSCode 等工具的配合</p>
  </li>
  <li>
    <p>gh-pages(或其他分支名)</p>

    <p>静态网页分支，非编辑区</p>

    <p>GitHub Pages 现在可以选择用来部署静态网页的分支。在仓库的 Settings 界面选择 Pages ，将部署的分支设置成这个。</p>

    <p>在 Hexo 的配置文件 <code class="language-plaintext highlighter-rouge">_config.yml</code> 中，将 Hexo 部署的分支也设置成这个：</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deploy:
    type: git
    repo: https://github.com/&lt;username&gt;/&lt;repository&gt;
    # example, https://github.com/bosonicli/bosonicli.github.io
    branch: gh-pages
</code></pre></div>    </div>

    <p>这样，Hexo 会将源码渲染为 HTML 静态页面，自动部署到仓库的 gh-pages 分支。然后 GitHub Pages 工具自动抓取这个分支的静态页面，就可以自动部署到域名上了。</p>
  </li>
</ol>

<p>之后如需迁移博客，只需迁移源码分支 master ，之后重新部署渲染工具 Hexo 即可。</p>

<p>这也是我想尝试个人博客的初衷，博客应当是轻便的。把渲染后的HTML一并迁移走略显累赘。</p>

<p>遇到其他的需求(比如用 GitBook 写操作文档)这套方案就并不适用，不过等我需要用的时候再寻求新方案不迟。</p>

<h2 id="参考文献">参考文献</h2>

<p>搞清楚上面的问题参考了<a href="https://segmentfault.com/a/1190000017366905">这篇博客</a></p>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/bosonicli/bosonicli.github.io">bosonicli.github.io</a> is maintained by <a href="https://github.com/bosonicli">bosonicli</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
  </body>
</html>
